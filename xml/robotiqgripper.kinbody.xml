<Kinbody name="RobotiqGripper">

  <!-- Robotiq Gripper with correct rotation -->

  <!-- Hand Base -->
  <body name="Base" type="dynamic">
    <Geom type="trimesh" modifiable="false">
      <data>grippermodels/g0.vrml 0.001</data>
      <render>grippermodels/g0.vrml 0.001</render>
      <translation>0 0 0.09</translation>
    </Geom>
    <mass type="custom">
      <total>0.850</total>
      <com>0 0 -0.05</com>
    </mass>
  </body>

  <!-- Link1 Left -->
  <body name="LinkL1" type="dynamic">
    <offsetfrom>Base</offsetfrom>
    <translation>0 -0.0127 0.06142</translation>
    <Geom type="trimesh" modifiable="false">
      <data>grippermodels/g1.vrml 0.001</data>
      <render>grippermodels/g1.vrml 0.001</render>
      <translation>0 0.0127 0.02858</translation>
    </Geom>
    <mass type="custom">
      <total>0.0</total>
    </mass>
  </body>
  
  <!-- Link1 Right -->
  <body name="LinkR1" type="dynamic">
    <offsetfrom>Base</offsetfrom>
    <translation>0 0.0127 0.06142</translation>
    <Geom type="trimesh" modifiable="false">
      <data>grippermodels/g2.vrml 0.001</data>
      <render>grippermodels/g2.vrml 0.001</render>
      <translation>0 -0.0127 0.02858</translation>
    </Geom>
    <mass type="custom">
      <total>0.0</total>
    </mass>
  </body>
  
  <!-- Link4 Left -->
  <body name="LinkL4" type="dynamic">
    <offsetfrom>Base</offsetfrom>
    <!-- <translation>-0.0498 0 0.0148</translation> -->
    <translation>0 -0.0498 0.1048</translation>
    <Geom type="trimesh" modifiable="false">
      <data>grippermodels/g3.vrml 0.001</data>
      <render>grippermodels/g3.vrml 0.001</render>
      <translation>0 0.0498 -0.0148</translation>
    </Geom>
    <mass type="custom">
      <total>0.0</total>
    </mass>
  </body>
  
  <!-- Link4 Right -->
  <body name="LinkR4" type="dynamic">
    <offsetfrom>Base</offsetfrom>
    <!-- <translation>0.0498 0 0.0148</translation> -->
    <translation>0 0.0498 0.1048</translation>
    <Geom type="trimesh" modifiable="false">
      <data>grippermodels/g4.vrml 0.001</data>
      <render>grippermodels/g4.vrml 0.001</render>
      <translation>0 -0.0498 -0.0148</translation>
    </Geom>
    <mass type="custom">
      <total>0.0</total>
    </mass>
  </body>

  <!-- Fingertip Left -->
  <body name="FingertipL" type="dynamic">
    <offsetfrom>LinkL4</offsetfrom>
    <Geom type="trimesh" modifiable="false">
      <data>grippermodels/fingertip.dae 1.0</data>
      <render>grippermodels/fingertip.dae 1.0</render>
      <translation>0 -0.003 0</translation>
    </Geom>
    <translation>0 0.00392 0.0258</translation>
    <mass type="custom">
      <total>0.0</total>
    </mass>
  </body>

  <!-- Fingertip Right -->
  <body name="FingertipR" type="dynamic">
    <offsetfrom>LinkR4</offsetfrom>
    <Geom type="trimesh" modifiable="false">
      <data>grippermodels/fingertip.dae 1.0</data>
      <render>grippermodels/fingertip.dae 1.0</render>
      <translation>0 -0.003 0</translation>
    </Geom>
    <translation>0 -0.00392 0.0258</translation>
    <mass type="custom">
      <total>0.0</total>
    </mass>
  </body>
  
  <!-- Link2 Left -->
  <body name="LinkL2" type="dynamic">
    <offsetfrom>Base</offsetfrom>
    <!-- <translation>-0.03058 0 -0.035</translation> -->
    <translation>0 -0.03058 0.055</translation>
    <Geom type="trimesh" modifiable="false">
      <data>grippermodels/g8.vrml 0.001</data>
      <render>grippermodels/g8.vrml 0.001</render>
      <translation>0 0.03058 0.035</translation>
    </Geom>
    <mass type="custom">
      <total>0.0</total>
    </mass>
  </body>
  
  <!-- Link2 Right -->
  <body name="LinkR2" type="dynamic">
    <offsetfrom>Base</offsetfrom>
    <!-- <translation>0.03058 0 -0.035</translation> -->
    <translation>0 0.03058 0.055</translation>
    <Geom type="trimesh" modifiable="false">
      <data>grippermodels/g7.vrml 0.001</data>
      <render>grippermodels/g7.vrml 0.001</render>
      <translation>0 -0.03058 0.035</translation>
      <!-- <translation>-0.03058 0 0.125</translation> -->
    </Geom>
    <mass type="custom">
      <total>0.0</total>
    </mass>
  </body>

  <!-- Link3 Left -->
  <body name="LinkL3" type="dynamic">
    <offsetfrom>Base</offsetfrom>
    <!-- <translation>-0.0678 0 0.0084</translation> -->
    <translation>0 -0.0678 0.0984</translation>
    <Geom type="trimesh" modifiable="false">
      <data>grippermodels/g5.vrml 0.001</data>
      <render>grippermodels/g5.vrml 0.001</render>
      <translation>0 0.0678 -0.0084</translation>
    </Geom>
    <mass type="custom">
      <total>0.0</total>
    </mass>
  </body>
  
  <!-- Link3 Right -->
  <body name="LinkR3" type="dynamic">
    <offsetfrom>Base</offsetfrom>
    <!-- <translation>0.0678 0 0.0084</translation> -->
    <translation>0 0.0678 0.0984</translation>
    <Geom type="trimesh" modifiable="false">
      <data>grippermodels/g6.vrml 0.001</data>
      <render>grippermodels/g6.vrml 0.001</render>
      <translation>0 -0.0678 -0.0084</translation>
    </Geom>
    <mass type="custom">
      <total>0.0</total>
    </mass>
  </body>
  
  <!-- Tool Tip -->
  <body name="ToolTip" type="dynamic">
    <offsetfrom>Base</offsetfrom>
    <translation>0 0 0.09</translation>
    <Geom type="trimesh" modifiable="false">
      <data>grippermodels/g9.vrml 0.001</data>
      <render>grippermodels/g9.vrml 0.001</render>
    </Geom>
    <mass type="custom">
      <total>0.0</total>
    </mass>
  </body>
  <joint name="Jdummy" type="hinge" enable="false">
    <body>Base</body>
    <body>ToolTip</body>
    <limitsdeg>0 0</limitsdeg>
  </joint>

  <!-- Joints -->
  <joint name="JL1" type="hinge">
    <body>Base</body>
    <body>LinkL1</body>
    <offsetfrom>LinkL1</offsetfrom>
    <limitsdeg>0 40.55</limitsdeg>
    <axis>-1 0 0</axis>
  </joint>
  <joint name="JR1" type="hinge" enable="false" mimic_pos="JL1" mimic_vel="|JL1 1" mimic_accel="|JL1 0">
    <body>Base</body>
    <body>LinkR1</body>
    <offsetfrom>LinkR1</offsetfrom>
    <axis>1 0 0</axis>
  </joint>
  
  <joint name="JL2" type="hinge" enable="false" mimic_pos="1.695 - acos((0.0000215 + 0.057080946032805023*cos(0.707731 - JL1))/(sqrt(0.0032582493934762385 + 
0.0021688079526703324*cos(1.933731 - JL1) + 0.0021809403720633906*cos(1.204669 + JL1)))) - acos((0.0019937 + 0.0021688*cos(1.933731 - JL1) + 0.002181*cos(1.204669 + JL1))/(0.06353*sqrt(0.0032582493934762385 + 0.0021688079526703324*cos(1.933731 - JL1) + 0.0021809403720633906*cos(1.204669 + JL1))))" mimic_vel="|JL1 1">
    <body>Base</body>
    <body>LinkL2</body>
    <offsetfrom>LinkL2</offsetfrom>
    <axis>-1 0 0</axis>
  </joint>
  <joint name="JR2" type="hinge" enable="false" mimic_pos="JL2" mimic_vel="|JL2 1" mimic_accel="|JL2 0">
    <body>Base</body>
    <body>LinkR2</body>
    <offsetfrom>LinkR2</offsetfrom>
    <axis>1 0 0</axis>
  </joint>

  <joint name="JL3" type="hinge" enable="false">
    <body>LinkL2</body>
    <body>LinkL3</body>
    <offsetfrom>LinkL2</offsetfrom>
    <anchor>-0.03152 0 -0.00394</anchor>
    <axis>-1 0 0</axis>
  </joint>
  <joint name="JR3" type="hinge" enable="false" mimic_pos="JL3" mimic_vel="|JL3 1" mimic_accel="|JL3 0">
    <body>LinkR2</body>
    <body>LinkR3</body>
    <offsetfrom>LinkR2</offsetfrom>
    <anchor>0.03152 0 -0.00394</anchor>
    <axis>1 0 0</axis>
  </joint>

  <joint name="JL4" type="hinge" enable="false">
    <body>LinkL4</body>
    <body>LinkL3</body>
    <offsetfrom>LinkL3</offsetfrom>
    <axis>-1 0 0</axis>
  </joint>
  <joint name="JR4" type="hinge" enable="false" mimic_pos="JL4" mimic_vel="|JL4 1" mimic_accel="|JL4 0">
    <body>LinkR4</body>
    <body>LinkR3</body>
    <offsetfrom>LinkR3</offsetfrom>
    <axis>1 0 0</axis>
  </joint>

  <joint name="JFL" type="hinge" enable="false">
    <body>LinkL4</body>
    <body>FingertipL</body>
    <limits>0 0</limits>
  </joint>
  <joint name="JFR" type="hinge" enable="false">
    <body>LinkR4</body>
    <body>FingertipR</body>
    <limits>0 0</limits>
  </joint>

  <joint name="JL5" type="hinge" enable="false" mimic_pos="-JL1" mimic_vel="|JL1 1" mimic_accel="|JL1 0">
    <body>LinkL1</body>
    <body>LinkL4</body>
    <offsetfrom>LinkL4</offsetfrom>
    <axis>-1 0 0</axis>
  </joint>
  <joint name="JR5" type="hinge" enable="false" mimic_pos="JL5" mimic_vel="|JL5 1" mimic_accel="|JL5 0">
    <body>LinkR1</body>
    <body>LinkR4</body>
    <offsetfrom>LinkR4</offsetfrom>
    <axis>1 0 0</axis>
  </joint>

  <!-- Adjacent Links -->
  <adjacent>Base LinkL1</adjacent>
  <adjacent>Base LinkL2</adjacent>
  <adjacent>LinkL1 LinkL4</adjacent>
  <adjacent>LinkL2 LinkL3</adjacent>
  <adjacent>LinkL3 LinkL4</adjacent>
  <adjacent>LinkL4 FingertipL</adjacent>

  <adjacent>Base LinkR1</adjacent>
  <adjacent>Base LinkR2</adjacent>
  <adjacent>LinkR1 LinkR4</adjacent>
  <adjacent>LinkR2 LinkR3</adjacent>
  <adjacent>LinkR3 LinkR4</adjacent>
  <adjacent>LinkR4 FingerTipR</adjacent>

</Kinbody>